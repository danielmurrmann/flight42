<ds-search-layout title="Flight Search" (resetPage)="reset()" [showLoading]="_showLoading()">
  <ds-flight-criteria
    search-criteria
    [criteria]="_criteria()"
    [autoSearch]="true"
    (searchFlights)="setCriteria($event)"
  />
  <ds-flight-list search-result [data]="_flightsResource.value()" (flightSelected)="selectFlight($event)" />

  @if(_selectedFlightResource.value(); as flight) {
    <ds-flight-side-panel side-panel [flight]="flight" [aircraft]="_selectedAircraftResource.value()" (flightTimesChange)="updateSelectedFlightTimes($event)" />
  }
</ds-search-layout>
